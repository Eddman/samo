@import "projects.common";

:host {
    @extend %tile;

    padding: $space_between;

    a {
        display: block;
        position: relative;
        vertical-align: bottom;

        &.broken {
            border: 1px solid lightgray;
            @include border-radius(5px);
            @include box-sizing(border-box);
            @include box-shadow(inset 0 3px 50px rgba(0, 0, 0, 0.2));
        }

        img, .title {
            transition: opacity 300ms, transform 300ms;
        }

        img {
            width: 100%;
            vertical-align: bottom;

            &.remove_project {
                $remove_button_size: 24px;
                width: $remove_button_size;

                position: absolute;
                top: -$remove_button_size / 2;
                right: -$remove_button_size / 2;

                z-index: 2;

                // NOT OK
                &:hover {
                    @include transform(rotate(-180deg));
                }
            }
        }

        .title {
            position: absolute;
            bottom: $thumb_title_position;

            font-weight: bold;
            margin: $thumb_title_margin;

            z-index: 1;
            @include opacity(0);
        }
    }

    &.hover a, a:active {
        img {
            @include opacity(0.2);
            @include transform(scale($hover_scale));

            &.remove_project {
                @include opacity(1);
                @include transform(scale(1));
            }
        }

        .title {
            @include opacity(1);
            @include transform(scale($hover_scale));
        }
    }

    &.jiggle {
        @include animation(jiggle 0.2s infinite);

        &.hover {
            @include animation(none);
            @include transform(rotate(0));
        }

        @include keyframes(jiggle) {
            0% {
                @include transform(rotate(-1deg));
            }
            50% {
                @include transform(rotate(1deg));
            }
        }
    }

    &.gu-hide {
        display: none !important;
    }

    &.gu-transit a * {
        @include opacity(0.4);
    }

    &.gu-mirror {
        position: fixed !important;
        margin: 0 !important;
        z-index: 9999 !important;

        a {
            img {
                @include opacity(0.8);
            }

            .title {
                @include opacity(0);
            }
        }
    }
}